#!/bin/sh

if command -v pbcopy >/dev/null; then
    pbcopy
elif command -v xclip >/dev/null; then
    xclip -selection c
elif command -v wl-copy >/dev/null; then
    wl-copy
elif command -v clip.exe >/dev/null; then
    clip.exe
else
    # OSC 52 escape sequence â€” tells the terminal emulator to set the clipboard.
    # Works over SSH and inside tmux (requires set-clipboard on / allow-passthrough on).
    data=$(base64 | tr -d '\n')
    printf '\033]52;c;%s\a' "$data"
fi
